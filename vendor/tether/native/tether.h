#ifndef TETHER_H
#define TETHER_H

/* Generated with cbindgen:0.9.1 */

/* This file is autogenerated. You probably don't want to modify it by hand. */

#include <stdarg.h>
#include <stdbool.h>
#include <stdint.h>
#include <stdlib.h>

typedef struct Option_tether_dispatch_callback Option_tether_dispatch_callback;

typedef struct Option_tether_start_callback Option_tether_start_callback;

/**
 * A reference to a window.
 */
typedef struct {
    uint8_t _unused[0];
} _tether;

/**
 * Pointer type for tether windows
 */
typedef _tether *tether;

/**
 * Configuration options for a window.
 */
typedef struct {
    /**
     * Initial width of the window in pixels (TODO: figure out HIDPI).
     */
    uintptr_t initial_width;
    /**
     * Initial height of the window in pixels (TODO: figure out HIDPI).
     */
    uintptr_t initial_height;
    /**
     * Width below which the window cannot be resized.
     */
    uintptr_t minimum_width;
    /**
     * Height below which the window cannot be resized.
     */
    uintptr_t minimum_height;
    /**
     * When set, don't show OS decorations.
     */
    bool borderless;
    /**
     * When set, enable debug interface, for example Microsoft Edge DevTools Preview
     */
    bool debug;
    /**
     * The data to pass to event handlers.
     */
    void *data;
    /**
     * The window received a message via `window.tether(string)`.
     */
    void (*message)(void *data, const char *message);
    /**
     * The window was closed, and its resources have all been released.
     */
    void (*closed)(void *data);
} tether_options;

#ifdef __cplusplus
extern "C" {
#endif // __cplusplus

/**
 * Close the window.
 */
extern void tether_close(tether self_);

/**
 * Schedule a function to be called on the main thread.
 *
 * All the `tether` functions should only be called on the main thread.
 */
extern void tether_dispatch(void *data, Option_tether_dispatch_callback func);

/**
 * Run the given script.
 */
extern void tether_eval(tether self_, const char *js);

/**
 * Stop the main loop as gracefully as possible.
 */
extern void tether_exit(void);

/**
 * Focus the window, and move it in front of the other windows.
 *
 * This function will not steal the focus from other applications.
 */
extern void tether_focus(tether self_);

/**
 * Display the given HTML.
 */
extern void tether_load(tether self_, const char *html);

/**
 * Open a new window with the given options.
 */
extern tether tether_new(tether_options opts);

/**
 * Start the main loop and call the given function.
 *
 * This function should be called on the main thread, and at most once. It
 * should be called before any other `tether` function is called.
 */
extern void tether_start(Option_tether_start_callback func);

/**
 * Set the window's title.
 */
extern void tether_title(tether self_, const char *title);

#ifdef __cplusplus
} // extern "C"
#endif // __cplusplus

#endif /* TETHER_H */
